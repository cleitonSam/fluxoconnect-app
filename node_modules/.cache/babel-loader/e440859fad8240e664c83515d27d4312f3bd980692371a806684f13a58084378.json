{"ast":null,"code":"// src/services/api.js - Vers√£o Final com Par√¢metro Search Correto\nimport axios from 'axios';\n\n// URLs base das APIs\nconst STEINHQ_BASE_URL = 'https://api.steinhq.com/v1/storages/68ad1d03affba40a62f25e10';\nconst WHATSAPP_BASE_URL = 'https://evo.fluxodigitaltech.com.br';\n\n// Configura√ß√£o do axios para Steinhq\nconst steinhqAPI = axios.create({\n  baseURL: STEINHQ_BASE_URL,\n  timeout: 10000\n});\n\n// Configura√ß√£o do axios para WhatsApp\nconst whatsappAPI = axios.create({\n  baseURL: WHATSAPP_BASE_URL,\n  timeout: 30000\n});\n\n// Interceptors para tratamento de erros\nsteinhqAPI.interceptors.response.use(response => response, error => {\n  console.error('Erro na requisi√ß√£o Steinhq API:', error);\n  throw error;\n});\nwhatsappAPI.interceptors.response.use(response => response, error => {\n  console.error('Erro na requisi√ß√£o WhatsApp API:', error);\n  throw error;\n});\n\n// Fun√ß√£o para criar headers do WhatsApp (SEM User-Agent para evitar erro)\nconst createWhatsAppHeaders = apiKey => {\n  return {\n    'apikey': apiKey,\n    'Content-Type': 'application/json'\n  };\n};\n\n// ==================== AUTH API ====================\nexport const authAPI = {\n  login: email => steinhqAPI.get(`/login?email=${encodeURIComponent(email)}`),\n  register: userData => steinhqAPI.post('/login', [userData]),\n  checkEmail: email => steinhqAPI.get(`/login?email=${encodeURIComponent(email)}`)\n};\n\n// ==================== DISPATCH API (STEINHQ) - VERS√ÉO FINAL COM SEARCH ====================\nexport const dispatchAPI = {\n  // Buscar registro espec√≠fico por ID do cliente usando par√¢metro search (CORRETO)\n  getByClientId: async clientId => {\n    try {\n      console.log(`üìä Buscando disparo para cliente: ${clientId}`);\n\n      // Usar par√¢metro search conforme documenta√ß√£o Steinhq\n      const searchParam = JSON.stringify({\n        id: clientId\n      });\n      const response = await steinhqAPI.get(`/disparo?search=${encodeURIComponent(searchParam)}`);\n      console.log(`üìä Resposta da API:`, response.data);\n      if (response.data && response.data.length > 0) {\n        const record = response.data[0];\n        console.log(`üìä Registro encontrado:`, record);\n        return record;\n      } else {\n        console.log(`üìä Nenhum registro encontrado para cliente: ${clientId}`);\n        return null;\n      }\n    } catch (error) {\n      console.error('Erro ao buscar registro de disparo:', error);\n      return null;\n    }\n  },\n  // Atualizar contagem de disparo (PUT) - usando search para encontrar o registro\n  update: async (clientId, newCount) => {\n    try {\n      console.log(`üìä Atualizando disparo para cliente ${clientId}: ${newCount}`);\n\n      // Primeiro, buscar o registro para obter o √≠ndice correto\n      const searchParam = JSON.stringify({\n        id: clientId\n      });\n      const searchResponse = await steinhqAPI.get(`/disparo?search=${encodeURIComponent(searchParam)}`);\n      if (searchResponse.data && searchResponse.data.length > 0) {\n        // Usar PUT com o ID espec√≠fico\n        const response = await steinhqAPI.put(`/disparo/${clientId}`, {\n          disparo: newCount.toString()\n        });\n        console.log(`‚úÖ Disparo atualizado com sucesso`);\n        return response.data;\n      } else {\n        throw new Error(`Registro n√£o encontrado para cliente ${clientId}`);\n      }\n    } catch (error) {\n      console.error('Erro ao atualizar disparo:', error);\n      throw error;\n    }\n  },\n  // Criar novo registro de disparo (POST)\n  create: async (clientId, initialCount = 1) => {\n    try {\n      console.log(`üìä Criando novo registro de disparo para cliente ${clientId}: ${initialCount}`);\n      const response = await steinhqAPI.post('/disparo', {\n        id: clientId,\n        disparo: initialCount.toString()\n      });\n      console.log(`‚úÖ Registro criado com sucesso`);\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao criar registro de disparo:', error);\n      throw error;\n    }\n  },\n  // Incrementar contagem de disparo (usa search para buscar)\n  increment: async (clientId, incrementBy = 1) => {\n    try {\n      console.log(`üìä Incrementando disparo para cliente ${clientId} em ${incrementBy}`);\n\n      // Buscar registro atual usando search\n      const currentRecord = await dispatchAPI.getByClientId(clientId);\n      if (currentRecord) {\n        // Registro existe - fazer PUT\n        const currentCount = currentRecord.disparo === null || currentRecord.disparo === undefined ? 0 : parseInt(currentRecord.disparo) || 0;\n        const newCount = currentCount + incrementBy;\n        console.log(`üìä Atualizando de ${currentCount} para ${newCount}`);\n        await dispatchAPI.update(clientId, newCount);\n        return newCount;\n      } else {\n        // Registro n√£o existe - fazer POST\n        console.log(`üìä Criando novo registro com ${incrementBy} disparos`);\n        await dispatchAPI.create(clientId, incrementBy);\n        return incrementBy;\n      }\n    } catch (error) {\n      console.error('Erro ao incrementar disparo:', error);\n      throw error;\n    }\n  },\n  // Obter contagem atual de disparo para um cliente (usa search)\n  getCount: async clientId => {\n    try {\n      console.log(`üìä Obtendo contagem para cliente: ${clientId}`);\n      const record = await dispatchAPI.getByClientId(clientId);\n      if (record) {\n        const count = record.disparo === null || record.disparo === undefined ? 0 : parseInt(record.disparo) || 0;\n        console.log(`üìä Contagem obtida: ${count}`);\n        return count;\n      }\n      console.log(`üìä Nenhum registro encontrado, retornando 0`);\n      return 0;\n    } catch (error) {\n      console.error('Erro ao obter contagem de disparo:', error);\n      return 0;\n    }\n  }\n};\n\n// ==================== WHATSAPP INSTANCE API ====================\nexport const instanceAPI = {\n  // Verificar estado da conex√£o (SEM User-Agent)\n  checkConnectionState: async (instanceId, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(`/instance/connectionState/${instanceId}`, {\n        headers\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao verificar estado da conex√£o:', error);\n      throw error;\n    }\n  },\n  // Conectar inst√¢ncia (SEM User-Agent)\n  connect: async (instanceId, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(`/instance/connect/${instanceId}`, {\n        headers\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao conectar inst√¢ncia:', error);\n      throw error;\n    }\n  },\n  // Criar inst√¢ncia (SEM User-Agent)\n  create: async (instanceData, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.post('/instance/create', instanceData, {\n        headers\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao criar inst√¢ncia:', error);\n      throw error;\n    }\n  },\n  // Fazer logout da inst√¢ncia (SEM User-Agent)\n  logout: async (instanceId, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.delete(`/instance/logout/${instanceId}`, {\n        headers\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao fazer logout da inst√¢ncia:', error);\n      throw error;\n    }\n  }\n};\n\n// ==================== WHATSAPP GROUPS API ====================\nexport const groupsAPI = {\n  // Buscar todos os grupos (SEM User-Agent)\n  fetchAll: async (instanceId, apiKey, getParticipants = true) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(`/group/fetchAllGroups/${instanceId}?getParticipants=${getParticipants}`, {\n        headers\n      });\n      return response.data || [];\n    } catch (error) {\n      console.error('Erro ao buscar grupos:', error);\n      return [];\n    }\n  },\n  // Buscar informa√ß√µes de um grupo espec√≠fico (SEM User-Agent)\n  getInfo: async (instanceId, groupJid, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(`/group/findGroupInfos/${instanceId}?groupJid=${encodeURIComponent(groupJid)}`, {\n        headers\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao buscar informa√ß√µes do grupo:', error);\n      throw error;\n    }\n  },\n  // Criar grupo (SEM User-Agent)\n  create: async (instanceId, groupData, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.post(`/group/create/${instanceId}`, groupData, {\n        headers\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao criar grupo:', error);\n      throw error;\n    }\n  },\n  // Sair do grupo (SEM User-Agent)\n  leave: async (instanceId, groupJid, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.delete(`/group/leaveGroup/${instanceId}?groupJid=${encodeURIComponent(groupJid)}`, {\n        headers\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao sair do grupo:', error);\n      throw error;\n    }\n  }\n};\n\n// ==================== WHATSAPP CONTACTS API ====================\nexport const contactsAPI = {\n  // Buscar todos os contatos (SEM User-Agent)\n  fetchAll: async (instanceId, apiKey) => {\n    try {\n      var _response$data;\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(`/chat/fetchContacts/${instanceId}`, {\n        headers\n      });\n      return ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.contacts) || [];\n    } catch (error) {\n      console.error('Erro ao buscar contatos:', error);\n      return [];\n    }\n  }\n};\n\n// ==================== WHATSAPP MESSAGES API ====================\nexport const messagesAPI = {\n  // Enviar mensagem de texto (SEM User-Agent)\n  sendText: async (instanceId, messageData, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.post(`/message/sendText/${instanceId}`, messageData, {\n        headers\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao enviar mensagem:', error);\n      throw error;\n    }\n  }\n};\n\n// ==================== UTILITY FUNCTIONS ====================\nexport const apiUtils = {\n  // Validar e formatar n√∫mero de telefone\n  validateAndFormatPhoneNumber: number => {\n    if (!number) return null;\n    let formattedNumber = number.replace(/[^\\d@\\.\\-]/g, '');\n    if (!/^\\d+/.test(formattedNumber)) return null;\n    return formattedNumber;\n  },\n  // Extrair n√∫mero do ID do WhatsApp\n  extractPhoneNumber: whatsappId => {\n    if (!whatsappId) return null;\n    return whatsappId.split('@')[0];\n  },\n  // Normalizar n√∫meros para compara√ß√£o\n  normalizePhoneNumber: number => {\n    if (!number) return '';\n    const cleaned = number.toString().replace(/\\D/g, '');\n    if (cleaned.startsWith('55') && cleaned.length > 11) {\n      return cleaned.substring(2);\n    }\n    return cleaned;\n  },\n  // Criar headers para WhatsApp (SEM User-Agent)\n  createWhatsAppHeaders,\n  // Criar URL de search para Steinhq\n  createSearchUrl: (endpoint, searchObject) => {\n    const searchParam = JSON.stringify(searchObject);\n    return `${endpoint}?search=${encodeURIComponent(searchParam)}`;\n  }\n};\n\n// Exporta√ß√£o padr√£o com todas as APIs\nexport default {\n  auth: authAPI,\n  dispatch: dispatchAPI,\n  instance: instanceAPI,\n  groups: groupsAPI,\n  contacts: contactsAPI,\n  messages: messagesAPI,\n  utils: apiUtils\n};","map":{"version":3,"names":["axios","STEINHQ_BASE_URL","WHATSAPP_BASE_URL","steinhqAPI","create","baseURL","timeout","whatsappAPI","interceptors","response","use","error","console","createWhatsAppHeaders","apiKey","authAPI","login","email","get","encodeURIComponent","register","userData","post","checkEmail","dispatchAPI","getByClientId","clientId","log","searchParam","JSON","stringify","id","data","length","record","update","newCount","searchResponse","put","disparo","toString","Error","initialCount","increment","incrementBy","currentRecord","currentCount","undefined","parseInt","getCount","count","instanceAPI","checkConnectionState","instanceId","headers","connect","instanceData","logout","delete","groupsAPI","fetchAll","getParticipants","getInfo","groupJid","groupData","leave","contactsAPI","_response$data","contacts","messagesAPI","sendText","messageData","apiUtils","validateAndFormatPhoneNumber","number","formattedNumber","replace","test","extractPhoneNumber","whatsappId","split","normalizePhoneNumber","cleaned","startsWith","substring","createSearchUrl","endpoint","searchObject","auth","dispatch","instance","groups","messages","utils"],"sources":["/Users/macbook/Documents/b/fluxoconnect-app/src/services/api.js"],"sourcesContent":["// src/services/api.js - Vers√£o Final com Par√¢metro Search Correto\nimport axios from 'axios';\n\n// URLs base das APIs\nconst STEINHQ_BASE_URL = 'https://api.steinhq.com/v1/storages/68ad1d03affba40a62f25e10';\nconst WHATSAPP_BASE_URL = 'https://evo.fluxodigitaltech.com.br';\n\n// Configura√ß√£o do axios para Steinhq\nconst steinhqAPI = axios.create({\n  baseURL: STEINHQ_BASE_URL,\n  timeout: 10000,\n});\n\n// Configura√ß√£o do axios para WhatsApp\nconst whatsappAPI = axios.create({\n  baseURL: WHATSAPP_BASE_URL,\n  timeout: 30000,\n});\n\n// Interceptors para tratamento de erros\nsteinhqAPI.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error('Erro na requisi√ß√£o Steinhq API:', error);\n    throw error;\n  }\n);\n\nwhatsappAPI.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error('Erro na requisi√ß√£o WhatsApp API:', error);\n    throw error;\n  }\n);\n\n// Fun√ß√£o para criar headers do WhatsApp (SEM User-Agent para evitar erro)\nconst createWhatsAppHeaders = (apiKey) => {\n  return {\n    'apikey': apiKey,\n    'Content-Type': 'application/json'\n  };\n};\n\n// ==================== AUTH API ====================\nexport const authAPI = {\n  login: (email) => steinhqAPI.get(`/login?email=${encodeURIComponent(email)}`),\n  register: (userData) => steinhqAPI.post('/login', [userData]),\n  checkEmail: (email) => steinhqAPI.get(`/login?email=${encodeURIComponent(email)}`)\n};\n\n// ==================== DISPATCH API (STEINHQ) - VERS√ÉO FINAL COM SEARCH ====================\nexport const dispatchAPI = {\n  // Buscar registro espec√≠fico por ID do cliente usando par√¢metro search (CORRETO)\n  getByClientId: async (clientId) => {\n    try {\n      console.log(`üìä Buscando disparo para cliente: ${clientId}`);\n      \n      // Usar par√¢metro search conforme documenta√ß√£o Steinhq\n      const searchParam = JSON.stringify({ id: clientId });\n      const response = await steinhqAPI.get(`/disparo?search=${encodeURIComponent(searchParam)}`);\n      \n      console.log(`üìä Resposta da API:`, response.data);\n      \n      if (response.data && response.data.length > 0) {\n        const record = response.data[0];\n        console.log(`üìä Registro encontrado:`, record);\n        return record;\n      } else {\n        console.log(`üìä Nenhum registro encontrado para cliente: ${clientId}`);\n        return null;\n      }\n    } catch (error) {\n      console.error('Erro ao buscar registro de disparo:', error);\n      return null;\n    }\n  },\n  \n  // Atualizar contagem de disparo (PUT) - usando search para encontrar o registro\n  update: async (clientId, newCount) => {\n    try {\n      console.log(`üìä Atualizando disparo para cliente ${clientId}: ${newCount}`);\n      \n      // Primeiro, buscar o registro para obter o √≠ndice correto\n      const searchParam = JSON.stringify({ id: clientId });\n      const searchResponse = await steinhqAPI.get(`/disparo?search=${encodeURIComponent(searchParam)}`);\n      \n      if (searchResponse.data && searchResponse.data.length > 0) {\n        // Usar PUT com o ID espec√≠fico\n        const response = await steinhqAPI.put(`/disparo/${clientId}`, {\n          disparo: newCount.toString()\n        });\n        \n        console.log(`‚úÖ Disparo atualizado com sucesso`);\n        return response.data;\n      } else {\n        throw new Error(`Registro n√£o encontrado para cliente ${clientId}`);\n      }\n    } catch (error) {\n      console.error('Erro ao atualizar disparo:', error);\n      throw error;\n    }\n  },\n  \n  // Criar novo registro de disparo (POST)\n  create: async (clientId, initialCount = 1) => {\n    try {\n      console.log(`üìä Criando novo registro de disparo para cliente ${clientId}: ${initialCount}`);\n      \n      const response = await steinhqAPI.post('/disparo', {\n        id: clientId,\n        disparo: initialCount.toString()\n      });\n      \n      console.log(`‚úÖ Registro criado com sucesso`);\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao criar registro de disparo:', error);\n      throw error;\n    }\n  },\n  \n  // Incrementar contagem de disparo (usa search para buscar)\n  increment: async (clientId, incrementBy = 1) => {\n    try {\n      console.log(`üìä Incrementando disparo para cliente ${clientId} em ${incrementBy}`);\n      \n      // Buscar registro atual usando search\n      const currentRecord = await dispatchAPI.getByClientId(clientId);\n      \n      if (currentRecord) {\n        // Registro existe - fazer PUT\n        const currentCount = currentRecord.disparo === null || currentRecord.disparo === undefined ? 0 : parseInt(currentRecord.disparo) || 0;\n        const newCount = currentCount + incrementBy;\n        \n        console.log(`üìä Atualizando de ${currentCount} para ${newCount}`);\n        await dispatchAPI.update(clientId, newCount);\n        return newCount;\n      } else {\n        // Registro n√£o existe - fazer POST\n        console.log(`üìä Criando novo registro com ${incrementBy} disparos`);\n        await dispatchAPI.create(clientId, incrementBy);\n        return incrementBy;\n      }\n    } catch (error) {\n      console.error('Erro ao incrementar disparo:', error);\n      throw error;\n    }\n  },\n  \n  // Obter contagem atual de disparo para um cliente (usa search)\n  getCount: async (clientId) => {\n    try {\n      console.log(`üìä Obtendo contagem para cliente: ${clientId}`);\n      \n      const record = await dispatchAPI.getByClientId(clientId);\n      if (record) {\n        const count = record.disparo === null || record.disparo === undefined ? 0 : parseInt(record.disparo) || 0;\n        console.log(`üìä Contagem obtida: ${count}`);\n        return count;\n      }\n      \n      console.log(`üìä Nenhum registro encontrado, retornando 0`);\n      return 0;\n    } catch (error) {\n      console.error('Erro ao obter contagem de disparo:', error);\n      return 0;\n    }\n  }\n};\n\n// ==================== WHATSAPP INSTANCE API ====================\nexport const instanceAPI = {\n  // Verificar estado da conex√£o (SEM User-Agent)\n  checkConnectionState: async (instanceId, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(`/instance/connectionState/${instanceId}`, { headers });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao verificar estado da conex√£o:', error);\n      throw error;\n    }\n  },\n  \n  // Conectar inst√¢ncia (SEM User-Agent)\n  connect: async (instanceId, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(`/instance/connect/${instanceId}`, { headers });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao conectar inst√¢ncia:', error);\n      throw error;\n    }\n  },\n  \n  // Criar inst√¢ncia (SEM User-Agent)\n  create: async (instanceData, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.post('/instance/create', instanceData, { headers });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao criar inst√¢ncia:', error);\n      throw error;\n    }\n  },\n  \n  // Fazer logout da inst√¢ncia (SEM User-Agent)\n  logout: async (instanceId, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.delete(`/instance/logout/${instanceId}`, { headers });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao fazer logout da inst√¢ncia:', error);\n      throw error;\n    }\n  }\n};\n\n// ==================== WHATSAPP GROUPS API ====================\nexport const groupsAPI = {\n  // Buscar todos os grupos (SEM User-Agent)\n  fetchAll: async (instanceId, apiKey, getParticipants = true) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(\n        `/group/fetchAllGroups/${instanceId}?getParticipants=${getParticipants}`, \n        { headers }\n      );\n      return response.data || [];\n    } catch (error) {\n      console.error('Erro ao buscar grupos:', error);\n      return [];\n    }\n  },\n  \n  // Buscar informa√ß√µes de um grupo espec√≠fico (SEM User-Agent)\n  getInfo: async (instanceId, groupJid, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(\n        `/group/findGroupInfos/${instanceId}?groupJid=${encodeURIComponent(groupJid)}`,\n        { headers }\n      );\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao buscar informa√ß√µes do grupo:', error);\n      throw error;\n    }\n  },\n  \n  // Criar grupo (SEM User-Agent)\n  create: async (instanceId, groupData, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.post(`/group/create/${instanceId}`, groupData, { headers });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao criar grupo:', error);\n      throw error;\n    }\n  },\n  \n  // Sair do grupo (SEM User-Agent)\n  leave: async (instanceId, groupJid, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.delete(\n        `/group/leaveGroup/${instanceId}?groupJid=${encodeURIComponent(groupJid)}`,\n        { headers }\n      );\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao sair do grupo:', error);\n      throw error;\n    }\n  }\n};\n\n// ==================== WHATSAPP CONTACTS API ====================\nexport const contactsAPI = {\n  // Buscar todos os contatos (SEM User-Agent)\n  fetchAll: async (instanceId, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.get(`/chat/fetchContacts/${instanceId}`, { headers });\n      return response.data?.contacts || [];\n    } catch (error) {\n      console.error('Erro ao buscar contatos:', error);\n      return [];\n    }\n  }\n};\n\n// ==================== WHATSAPP MESSAGES API ====================\nexport const messagesAPI = {\n  // Enviar mensagem de texto (SEM User-Agent)\n  sendText: async (instanceId, messageData, apiKey) => {\n    try {\n      const headers = createWhatsAppHeaders(apiKey);\n      const response = await whatsappAPI.post(`/message/sendText/${instanceId}`, messageData, { headers });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao enviar mensagem:', error);\n      throw error;\n    }\n  }\n};\n\n// ==================== UTILITY FUNCTIONS ====================\nexport const apiUtils = {\n  // Validar e formatar n√∫mero de telefone\n  validateAndFormatPhoneNumber: (number) => {\n    if (!number) return null;\n    let formattedNumber = number.replace(/[^\\d@\\.\\-]/g, '');\n    if (!/^\\d+/.test(formattedNumber)) return null;\n    return formattedNumber;\n  },\n  \n  // Extrair n√∫mero do ID do WhatsApp\n  extractPhoneNumber: (whatsappId) => {\n    if (!whatsappId) return null;\n    return whatsappId.split('@')[0];\n  },\n  \n  // Normalizar n√∫meros para compara√ß√£o\n  normalizePhoneNumber: (number) => {\n    if (!number) return '';\n    const cleaned = number.toString().replace(/\\D/g, '');\n    if (cleaned.startsWith('55') && cleaned.length > 11) {\n      return cleaned.substring(2);\n    }\n    return cleaned;\n  },\n  \n  // Criar headers para WhatsApp (SEM User-Agent)\n  createWhatsAppHeaders,\n  \n  // Criar URL de search para Steinhq\n  createSearchUrl: (endpoint, searchObject) => {\n    const searchParam = JSON.stringify(searchObject);\n    return `${endpoint}?search=${encodeURIComponent(searchParam)}`;\n  }\n};\n\n// Exporta√ß√£o padr√£o com todas as APIs\nexport default {\n  auth: authAPI,\n  dispatch: dispatchAPI,\n  instance: instanceAPI,\n  groups: groupsAPI,\n  contacts: contactsAPI,\n  messages: messagesAPI,\n  utils: apiUtils\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}